<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Retrieving Data | WP MVC</title>

   <link rel="stylesheet" href="/wp-mvc/css/syntax.css" type="text/css" />
   <link rel="stylesheet" href="/wp-mvc/css/default.css" type="text/css" media="screen, projection" />
   <link rel="stylesheet" href="/wp-mvc/css/documentation.css" type="text/css" media="screen, projection" />
</head>
<body>

  <a href="https://github.com/tombenner/wp-mvc"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>

  <div id="container">
  
    <div id="nav">
      
      <div id="header">
        <a href="/wp-mvc/" id="logo">WP MVC</a>
      </div>

      <ul class="doc-nav" id="sections"><li class="in-active-tree"><a href="/wp-mvc/documentation/installation">Installation</a><ul><li><a href="/wp-mvc/documentation/installation/installing_example_plugins.html">Installing Example Plugins</a></li></ul></li><li class="in-active-tree"><a href="/wp-mvc/documentation/tutorial">Tutorial</a><ul><li><a href="/wp-mvc/documentation/tutorial/create_the_plugin.html">Create the Plugin</a></li><li><a href="/wp-mvc/documentation/tutorial/create_the_database_table.html">Create the Database Table</a></li><li><a href="/wp-mvc/documentation/tutorial/create_the_models_views_and_controllers.html">Create the Models Views and Controllers</a></li></ul></li><li class="in-active-tree"><a href="/wp-mvc/documentation/creating_plugins">Creating Plugins</a><ul><li><a href="/wp-mvc/documentation/creating_plugins/generating_code.html">Generating Code</a></li></ul></li><li class="in-active-tree"><a href="/wp-mvc/documentation/creating_database_tables.html">Creating Database Tables</a></li><li class="in-active-tree"><a href="/wp-mvc/documentation/models">Models</a><ul class="in-active-tree"><li class="in-active-tree"><a href="/wp-mvc/documentation/models/saving_data">Saving Data</a><ul><li><a href="/wp-mvc/documentation/models/saving_data/create.html">create</a></li><li><a href="/wp-mvc/documentation/models/saving_data/save.html">save</a></li><li><a href="/wp-mvc/documentation/models/saving_data/update.html">update</a></li><li><a href="/wp-mvc/documentation/models/saving_data/update_all.html">update_all</a></li><li><a href="/wp-mvc/documentation/models/saving_data/insert.html">insert</a></li></ul></li><li class="active in-active-tree"><a href="/wp-mvc/documentation/models/retrieving_data">Retrieving Data</a><ul class="in-active-tree"><li class="in-active-tree"><a href="/wp-mvc/documentation/models/retrieving_data/find.html">find</a></li><li class="in-active-tree"><a href="/wp-mvc/documentation/models/retrieving_data/find_one.html">find_one</a></li><li class="in-active-tree"><a href="/wp-mvc/documentation/models/retrieving_data/find_by_id.html">find_by_id</a></li><li class="in-active-tree"><a href="/wp-mvc/documentation/models/retrieving_data/find_by__.html">find_by_*</a></li><li class="in-active-tree"><a href="/wp-mvc/documentation/models/retrieving_data/find_one_by__.html">find_one_by_*</a></li><li class="in-active-tree"><a href="/wp-mvc/documentation/models/retrieving_data/paginate.html">paginate</a></li><li class="in-active-tree"><a href="/wp-mvc/documentation/models/retrieving_data/count.html">count</a></li><li class="in-active-tree"><a href="/wp-mvc/documentation/models/retrieving_data/max.html">max</a></li><li class="in-active-tree"><a href="/wp-mvc/documentation/models/retrieving_data/min.html">min</a></li><li class="in-active-tree"><a href="/wp-mvc/documentation/models/retrieving_data/sum.html">sum</a></li><li class="in-active-tree"><a href="/wp-mvc/documentation/models/retrieving_data/average.html">average</a></li></ul></li><li class="in-active-tree"><a href="/wp-mvc/documentation/models/deleting_data">Deleting Data</a><ul><li><a href="/wp-mvc/documentation/models/deleting_data/delete.html">delete</a></li><li><a href="/wp-mvc/documentation/models/deleting_data/delete_all.html">delete_all</a></li></ul></li><li class="in-active-tree"><a href="/wp-mvc/documentation/models/validations.html">Validations</a></li><li class="in-active-tree"><a href="/wp-mvc/documentation/models/associations">Associations</a><ul><li><a href="/wp-mvc/documentation/models/associations/belongs_to.html">Belongs To</a></li><li><a href="/wp-mvc/documentation/models/associations/has_many.html">Has Many</a></li><li><a href="/wp-mvc/documentation/models/associations/has_and_belongs_to_many.html">Has and Belongs To Many</a></li><li><a href="/wp-mvc/documentation/models/associations/dependent_associations.html">Dependent Associations</a></li></ul></li><li class="in-active-tree"><a href="/wp-mvc/documentation/models/model_attributes">Model Attributes</a><ul><li><a href="/wp-mvc/documentation/models/model_attributes/table.html">table</a></li><li><a href="/wp-mvc/documentation/models/model_attributes/database.html">database</a></li><li><a href="/wp-mvc/documentation/models/model_attributes/includes.html">includes</a></li><li><a href="/wp-mvc/documentation/models/model_attributes/order.html">order</a></li><li><a href="/wp-mvc/documentation/models/model_attributes/display_field.html">display_field</a></li><li><a href="/wp-mvc/documentation/models/model_attributes/primary_key.html">primary_key</a></li><li><a href="/wp-mvc/documentation/models/model_attributes/selects.html">selects</a></li><li><a href="/wp-mvc/documentation/models/model_attributes/per_page.html">per_page</a></li><li><a href="/wp-mvc/documentation/models/model_attributes/hide_menu.html">hide_menu</a></li></ul></li><li class="in-active-tree"><a href="/wp-mvc/documentation/models/model_methods">Model Methods</a><ul><li><a href="/wp-mvc/documentation/models/model_methods/after_find.html">after_find</a></li><li><a href="/wp-mvc/documentation/models/model_methods/after_save.html">after_save</a></li><li><a href="/wp-mvc/documentation/models/model_methods/to_url.html">to_url</a></li></ul></li></ul></li><li class="in-active-tree"><a href="/wp-mvc/documentation/controllers">Controllers</a><ul><li><a href="/wp-mvc/documentation/controllers/controller_methods">Controller Methods</a><ul><li><a href="/wp-mvc/documentation/controllers/controller_methods/set.html">set</a></li><li><a href="/wp-mvc/documentation/controllers/controller_methods/set_object.html">set_object</a></li><li><a href="/wp-mvc/documentation/controllers/controller_methods/set_objects.html">set_objects</a></li><li><a href="/wp-mvc/documentation/controllers/controller_methods/set_pagination.html">set_pagination</a></li><li><a href="/wp-mvc/documentation/controllers/controller_methods/load_helper.html">load_helper</a></li><li><a href="/wp-mvc/documentation/controllers/controller_methods/load_model.html">load_model</a></li><li><a href="/wp-mvc/documentation/controllers/controller_methods/load_models.html">load_models</a></li><li><a href="/wp-mvc/documentation/controllers/controller_methods/redirect.html">redirect</a></li><li><a href="/wp-mvc/documentation/controllers/controller_methods/flash.html">flash</a></li><li><a href="/wp-mvc/documentation/controllers/controller_methods/create_or_save.html">create_or_save</a></li></ul></li><li><a href="/wp-mvc/documentation/controllers/controller_attributes">Controller Attributes</a><ul><li><a href="/wp-mvc/documentation/controllers/controller_attributes/before.html">before</a></li><li><a href="/wp-mvc/documentation/controllers/controller_attributes/after.html">after</a></li><li><a href="/wp-mvc/documentation/controllers/controller_attributes/default_searchable_fields.html">default_searchable_fields</a></li><li><a href="/wp-mvc/documentation/controllers/controller_attributes/default_search_joins.html">default_search_joins</a></li><li><a href="/wp-mvc/documentation/controllers/controller_attributes/default_columns.html">default_columns</a></li></ul></li></ul></li><li class="in-active-tree"><a href="/wp-mvc/documentation/views">Views</a><ul><li><a href="/wp-mvc/documentation/views/layouts">Layouts</a><ul><li><a href="/wp-mvc/documentation/views/layouts/specifying_a_layout.html">Specifying a Layout</a></li></ul></li><li><a href="/wp-mvc/documentation/views/views_within_views.html">Views Within Views</a></li><li><a href="/wp-mvc/documentation/views/using_helpers.html">Using Helpers</a></li><li><a href="/wp-mvc/documentation/views/view_methods">View Methods</a><ul><li><a href="/wp-mvc/documentation/views/view_methods/pagination.html">pagination</a></li><li><a href="/wp-mvc/documentation/views/view_methods/render_view.html">render_view</a></li></ul></li></ul></li><li class="in-active-tree"><a href="/wp-mvc/documentation/helpers">Helpers</a><ul><li><a href="/wp-mvc/documentation/helpers/creating_helpers.html">Creating Helpers</a></li><li><a href="/wp-mvc/documentation/helpers/core_helpers">Core Helpers</a><ul><li><a href="/wp-mvc/documentation/helpers/core_helpers/html.html">HTML</a></li><li><a href="/wp-mvc/documentation/helpers/core_helpers/form.html">Form</a></li><li><a href="/wp-mvc/documentation/helpers/core_helpers/form_tags.html">Form Tags</a></li></ul></li></ul></li><li class="in-active-tree"><a href="/wp-mvc/documentation/functions">Functions</a><ul><li><a href="/wp-mvc/documentation/functions/is_mvc_page.html">is_mvc_page</a></li><li><a href="/wp-mvc/documentation/functions/mvc_model.html">mvc_model</a></li><li><a href="/wp-mvc/documentation/functions/mvc_public_url.html">mvc_public_url</a></li><li><a href="/wp-mvc/documentation/functions/mvc_admin_url.html">mvc_admin_url</a></li><li><a href="/wp-mvc/documentation/functions/mvc_css_url.html">mvc_css_url</a></li><li><a href="/wp-mvc/documentation/functions/mvc_js_url.html">mvc_js_url</a></li><li><a href="/wp-mvc/documentation/functions/mvc_render_to_string.html">mvc_render_to_string</a></li><li><a href="/wp-mvc/documentation/functions/mvc_get_plugins.html">mvc_get_plugins</a></li></ul></li><li class="in-active-tree"><a href="/wp-mvc/documentation/routing">Routing</a><ul><li><a href="/wp-mvc/documentation/routing/pretty_urls.html">Pretty URLs</a></li></ul></li><li class="in-active-tree"><a href="/wp-mvc/documentation/utilities">Utilities</a><ul><li><a href="/wp-mvc/documentation/utilities/inflector">Inflector</a><ul><li><a href="/wp-mvc/documentation/utilities/inflector/inflector_methods.html">Inflector Methods</a></li><li><a href="/wp-mvc/documentation/utilities/inflector/adding_rules_to_inflector.html">Adding Rules To Inflector</a></li></ul></li></ul></li><li class="in-active-tree"><a href="/wp-mvc/documentation/configuration">Configuration</a><ul><li><a href="/wp-mvc/documentation/configuration/debug.html">Debug</a></li><li><a href="/wp-mvc/documentation/configuration/adminpages.html">AdminPages</a></li></ul></li><li class="in-active-tree"><a href="/wp-mvc/documentation/wordpress_data_integration">Wordpress Data Integration</a><ul><li><a href="/wp-mvc/documentation/wordpress_data_integration/models_for_wordpress_tables.html">Models For Wordpress Tables</a></li><li><a href="/wp-mvc/documentation/wordpress_data_integration/synchronizing_models_with_posts">Synchronizing Models With Posts</a><ul><li><a href="/wp-mvc/documentation/wordpress_data_integration/synchronizing_models_with_posts/no_associated_custom_post_type.html">No Associated Custom Post Type</a></li><li><a href="/wp-mvc/documentation/wordpress_data_integration/synchronizing_models_with_posts/default_custom_post_type.html">Default Custom Post Type</a></li><li><a href="/wp-mvc/documentation/wordpress_data_integration/synchronizing_models_with_posts/customized_custom_post_type.html">Customized Custom Post Type</a></li></ul></li><li><a href="/wp-mvc/documentation/wordpress_data_integration/quick_settings_pages.html">Quick Settings Pages</a></li></ul></li></ul>
      
      <div class="extra">
        <a href="/wp-mvc/download.html">Download</a>
      </div>
      
      <div class="extra">
        <a href="/wp-mvc/contact.html">Contact</a>
      </div>
      
      <div class="extra">
        <a href="https://github.com/tombenner/wp-mvc">Source</a>
      </div>
      
      <div class="extra extra-small">
        Powered by <a href="https://github.com/tombenner/jdoc">JDoc</a>
      </div>
      
    </div>

    <div id="content">
    
      <div class="documentation-content">
  <h2>Retrieving Data</h2>
  <div class="doc-child-header"><a class="doc-child-link" href="/wp-mvc/documentation/models/retrieving_data/find.html">View alone</a><h3>find</h3></div>


<p>The <code>find()</code> method is the all-purpose method for retrieving data from a model.  It takes a single argument, an associative array of options for the find.  Here's an example that shows the available options (it isn't a practical example, though):</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="c1">// controllers/events_controller.php</span>
<span class="k">class</span> <span class="nc">EventsController</span> <span class="k">extends</span> <span class="nx">MvcPublicController</span> <span class="p">{</span>
  
  <span class="k">public</span> <span class="k">function</span> <span class="nf">index</span><span class="p">()</span> <span class="p">{</span>
    <span class="nv">$objects</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Event</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
      <span class="s1">&#39;joins&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Venue&#39;</span><span class="p">),</span>
      <span class="s1">&#39;includes&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Venue&#39;</span><span class="p">),</span>
      <span class="s1">&#39;selects&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Venue.id&#39;</span><span class="p">,</span> <span class="s1">&#39;Venue.name&#39;</span><span class="p">,</span> <span class="s1">&#39;Event.date&#39;</span><span class="p">,</span> <span class="s1">&#39;Event.active&#39;</span><span class="p">),</span>
      <span class="s1">&#39;additional_selects&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Event.date&#39;</span><span class="p">),</span>
      <span class="s1">&#39;conditions&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;Event.active&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;Event.date &gt;=&#39;</span> <span class="o">=&gt;</span> <span class="nb">date</span><span class="p">(</span><span class="s1">&#39;Y-m-d&#39;</span><span class="p">),</span>
        <span class="s1">&#39;Venue.id&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="mi">56</span><span class="p">,</span> <span class="mi">83</span><span class="p">)</span> <span class="c1">// Venue.id IN (56, 83)</span>
      <span class="p">),</span>
      <span class="s1">&#39;group&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Event.id&#39;</span><span class="p">,</span>
      <span class="s1">&#39;order&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Event.date DESC&#39;</span><span class="p">,</span>
      <span class="s1">&#39;page&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span>
      <span class="s1">&#39;per_page&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span>
    <span class="p">));</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;objects&#39;</span><span class="p">,</span> <span class="nv">$objects</span><span class="p">);</span>
  <span class="p">}</span>
  
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre>
</div>


<h4>joins</h4>

<p>An array of associated models that will be included as joins in the query and in the results.</p>

<h4>includes</h4>

<p>An array of associated models that will be added to the object via additional SELECT queries after the initial SELECT query has been made.  These can't be referenced in <code>conditions</code>, but unlike <code>joins</code>, has_many and has_and_belongs_to many associations can be safely used here.</p>

<h4>selects</h4>

<p>An array of columns that will be selected in the query.  This will replace the default selected fields that are defined in the model.</p>

<h4>additional_selects</h4>

<p>An array of columns that will be merged with the default selected fields that are defined in the model; all of the columns in the resulting merged array will be selected in the query.</p>

<h4>conditions</h4>

<p>An array of conditions for the WHERE part of the query.  Conditions are joined with an AND by default, but OR conditions can be done like this:</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="c1">// Find all Events that are active or are happening on or after today</span>
<span class="nv">$objects</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Event</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;conditions&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;OR&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">&#39;Event.active&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s1">&#39;Event.date &gt;=&#39;</span> <span class="o">=&gt;</span> <span class="nb">date</span><span class="p">(</span><span class="s1">&#39;Y-m-d&#39;</span><span class="p">),</span>
    <span class="p">)</span>
  <span class="p">)</span>
<span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre>
</div>


<p>To group conditions together, use an <code>'AND'</code> or <code>'OR'</code> in the same way that the <code>'OR'</code> above is used.</p>

<h4>group</h4>

<p>A string specifying the value for a GROUP BY clause.</p>

<h4>order</h4>

<p>A string specifying the value for an ORDER clause.</p>

<h4>page</h4>

<p>An integer specifying which page of results should be returned.  The number of results per page defaults to the <code>per_page</code> property of the model, but can be overwritten with a <code>per_page</code> key in the find options.</p>

<h4>per_page</h4>

<p>An integer specifying the number of results per page.  This is only relevant when the <code>page</code> option is also set.<div class="doc-child-header"><a class="doc-child-link" href="/wp-mvc/documentation/models/retrieving_data/find_one.html">View alone</a><h3>find_one</h3></div>This behaves almost identically to <code>find()</code>, except that it only returns a single object instead of an array of objects.</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">VenuesController</span> <span class="k">extends</span> <span class="nx">MvcPublicController</span> <span class="p">{</span>
  
  <span class="k">public</span> <span class="k">function</span> <span class="nf">show</span><span class="p">()</span> <span class="p">{</span>
    <span class="nv">$object</span> <span class="o">=</span> <span class="k">this</span><span class="o">-&gt;</span><span class="na">Venue</span><span class="o">-&gt;</span><span class="na">find_one</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
      <span class="s1">&#39;slug&#39;</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">params</span><span class="p">[</span><span class="s1">&#39;slug&#39;</span><span class="p">],</span>
      <span class="s1">&#39;includes&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Event&#39;</span><span class="p">)</span>
    <span class="p">));</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;object&#39;</span><span class="p">,</span> <span class="nv">$object</span><span class="p">);</span>
  <span class="p">}</span>
  
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre>
</div>


<div class="doc-child-header"><a class="doc-child-link" href="/wp-mvc/documentation/models/retrieving_data/find_by_id.html">View alone</a><h3>find_by_id</h3></div>


<p>This behaves almost identically to <code>find()</code>, except that it has two arguments: the first is an id, the second is the options array that <code>find()</code> uses.  It finds the record with a primary key value of the specified id, but also handles the options array in the same way that <code>find()</code> does.</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">VenuesController</span> <span class="k">extends</span> <span class="nx">MvcPublicController</span> <span class="p">{</span>
  
  <span class="k">public</span> <span class="k">function</span> <span class="nf">show</span><span class="p">()</span> <span class="p">{</span>
    <span class="nv">$object</span> <span class="o">=</span> <span class="k">this</span><span class="o">-&gt;</span><span class="na">Venue</span><span class="o">-&gt;</span><span class="na">find_by_id</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">params</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">&#39;includes&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Event&#39;</span><span class="p">)</span>
    <span class="p">));</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;object&#39;</span><span class="p">,</span> <span class="nv">$object</span><span class="p">);</span>
  <span class="p">}</span>
  
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre>
</div>


<div class="doc-child-header"><a class="doc-child-link" href="/wp-mvc/documentation/models/retrieving_data/find_by__.html">View alone</a><h3>find_by_*</h3></div>


<p>For every attribute of a model, WP MVC will provide a find_by_* method that returns all records with that value for that column.</p>

<p>For example, if Event has a column <code>venue_id</code>:</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="nv">$event_model</span> <span class="o">=</span> <span class="nx">mvc_model</span><span class="p">(</span><span class="s1">&#39;Event&#39;</span><span class="p">);</span>
<span class="nv">$events</span> <span class="o">=</span> <span class="nv">$event_model</span><span class="o">-&gt;</span><span class="na">find_by_venue_id</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre>
</div>


<div class="doc-child-header"><a class="doc-child-link" href="/wp-mvc/documentation/models/retrieving_data/find_one_by__.html">View alone</a><h3>find_one_by_*</h3></div>


<p>For every attribute of a model, WP MVC will provide a find_one_by_* method that returns the first record with that value for that column.</p>

<p>For example, if Event has a column <code>venue_id</code>:</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="nv">$event_model</span> <span class="o">=</span> <span class="nx">mvc_model</span><span class="p">(</span><span class="s1">&#39;Event&#39;</span><span class="p">);</span>
<span class="nv">$event</span> <span class="o">=</span> <span class="nv">$event_model</span><span class="o">-&gt;</span><span class="na">find_one_by_venue_id</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre>
</div>


<div class="doc-child-header"><a class="doc-child-link" href="/wp-mvc/documentation/models/retrieving_data/paginate.html">View alone</a><h3>paginate</h3></div>


<p><code>paginate()</code> is similar to <code>find()</code>, but it adds some functionality that is useful for creating paginated retrievals of data.  It returns a "collection," which is an array that contains the returned objects in the 'objects' key, but also contains information that is useful for creating pagination (total number of results, number of results per page, etc).</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">EventsController</span> <span class="k">extends</span> <span class="nx">MvcPublicController</span> <span class="p">{</span>

  <span class="k">public</span> <span class="k">function</span> <span class="nf">index</span><span class="p">()</span> <span class="p">{</span>
  
    <span class="nv">$params</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">params</span><span class="p">;</span>
    <span class="nv">$params</span><span class="p">[</span><span class="s1">&#39;page&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="k">empty</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">params</span><span class="p">[</span><span class="s1">&#39;page&#39;</span><span class="p">])</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">params</span><span class="p">[</span><span class="s1">&#39;page&#39;</span><span class="p">];</span>
    <span class="nv">$params</span><span class="p">[</span><span class="s1">&#39;conditions&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;is_public&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">);</span>
    <span class="nv">$collection</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">model</span><span class="o">-&gt;</span><span class="na">paginate</span><span class="p">(</span><span class="nv">$params</span><span class="p">);</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;objects&#39;</span><span class="p">,</span> <span class="nv">$collection</span><span class="p">[</span><span class="s1">&#39;objects&#39;</span><span class="p">]);</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set_pagination</span><span class="p">(</span><span class="nv">$collection</span><span class="p">);</span>
  
  <span class="p">}</span>

<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre>
</div>


<div class="doc-child-header"><a class="doc-child-link" href="/wp-mvc/documentation/models/retrieving_data/count.html">View alone</a><h3>count</h3></div>


<p>Returns the number of records matching the query (using a <code>COUNT()</code> MySQL query).</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="nv">$venue_model</span> <span class="o">=</span> <span class="nx">mvc_model</span><span class="p">(</span><span class="s1">&#39;Venue&#39;</span><span class="p">);</span>
<span class="nv">$total_count</span> <span class="o">=</span> <span class="nv">$venue_model</span><span class="o">-&gt;</span><span class="na">count</span><span class="p">();</span>
<span class="nv">$public_count</span> <span class="o">=</span> <span class="nv">$venue_model</span><span class="o">-&gt;</span><span class="na">count</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;conditions&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;is_public&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="p">)</span>
<span class="p">));</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre>
</div>


<div class="doc-child-header"><a class="doc-child-link" href="/wp-mvc/documentation/models/retrieving_data/max.html">View alone</a><h3>max</h3></div>


<p>Returns the maximum value of the column (using a <code>MAX()</code> MySQL query).  An optional second argument can be used to specify conditions or other query qualifiers.</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="c1">// If the Venue table has columns &#39;event_count&#39; and &#39;is_public&#39;:</span>
<span class="nv">$venue_model</span> <span class="o">=</span> <span class="nx">mvc_model</span><span class="p">(</span><span class="s1">&#39;Venue&#39;</span><span class="p">);</span>
<span class="nv">$max_event_count</span> <span class="o">=</span> <span class="nv">$venue_model</span><span class="o">-&gt;</span><span class="na">max</span><span class="p">(</span><span class="s1">&#39;event_count&#39;</span><span class="p">);</span>
<span class="nv">$public_max_event_count</span> <span class="o">=</span> <span class="nv">$venue_model</span><span class="o">-&gt;</span><span class="na">max</span><span class="p">(</span><span class="s1">&#39;event_count&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;conditions&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;is_public&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="p">)</span>
<span class="p">));</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre>
</div>


<div class="doc-child-header"><a class="doc-child-link" href="/wp-mvc/documentation/models/retrieving_data/min.html">View alone</a><h3>min</h3></div>


<p>Returns the minimum value of the column (using a <code>MIN()</code> MySQL query).  An optional second argument can be used to specify conditions or other query qualifiers.</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="c1">// If the Venue table has columns &#39;event_count&#39; and &#39;is_public&#39;:</span>
<span class="nv">$venue_model</span> <span class="o">=</span> <span class="nx">mvc_model</span><span class="p">(</span><span class="s1">&#39;Venue&#39;</span><span class="p">);</span>
<span class="nv">$min_event_count</span> <span class="o">=</span> <span class="nv">$venue_model</span><span class="o">-&gt;</span><span class="na">min</span><span class="p">(</span><span class="s1">&#39;event_count&#39;</span><span class="p">);</span>
<span class="nv">$public_min_event_count</span> <span class="o">=</span> <span class="nv">$venue_model</span><span class="o">-&gt;</span><span class="na">min</span><span class="p">(</span><span class="s1">&#39;event_count&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;conditions&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;is_public&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="p">)</span>
<span class="p">));</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre>
</div>


<div class="doc-child-header"><a class="doc-child-link" href="/wp-mvc/documentation/models/retrieving_data/sum.html">View alone</a><h3>sum</h3></div>


<p>Returns the sum of the values of a column (using a <code>SUM()</code> MySQL query).  An optional second argument can be used to specify conditions or other query qualifiers.</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="c1">// If the Venue table has columns &#39;event_count&#39; and &#39;is_public&#39;:</span>
<span class="nv">$venue_model</span> <span class="o">=</span> <span class="nx">mvc_model</span><span class="p">(</span><span class="s1">&#39;Venue&#39;</span><span class="p">);</span>
<span class="nv">$event_count_sum</span> <span class="o">=</span> <span class="nv">$venue_model</span><span class="o">-&gt;</span><span class="na">sum</span><span class="p">(</span><span class="s1">&#39;event_count&#39;</span><span class="p">);</span>
<span class="nv">$public_event_count_sum</span> <span class="o">=</span> <span class="nv">$venue_model</span><span class="o">-&gt;</span><span class="na">sum</span><span class="p">(</span><span class="s1">&#39;event_count&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;conditions&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;is_public&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="p">)</span>
<span class="p">));</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre>
</div>


<div class="doc-child-header"><a class="doc-child-link" href="/wp-mvc/documentation/models/retrieving_data/average.html">View alone</a><h3>average</h3></div>


<p>Returns the average of the values of a column (using a <code>AVERAGE()</code> MySQL query).  An optional second argument can be used to specify conditions or other query qualifiers.</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="c1">// If the Venue table has columns &#39;event_count&#39; and &#39;is_public&#39;:</span>
<span class="nv">$venue_model</span> <span class="o">=</span> <span class="nx">mvc_model</span><span class="p">(</span><span class="s1">&#39;Venue&#39;</span><span class="p">);</span>
<span class="nv">$event_count_average</span> <span class="o">=</span> <span class="nv">$venue_model</span><span class="o">-&gt;</span><span class="na">average</span><span class="p">(</span><span class="s1">&#39;event_count&#39;</span><span class="p">);</span>
<span class="nv">$public_event_count_average</span> <span class="o">=</span> <span class="nv">$venue_model</span><span class="o">-&gt;</span><span class="na">average</span><span class="p">(</span><span class="s1">&#39;event_count&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;conditions&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;is_public&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="p">)</span>
<span class="p">));</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre>
</div>


</div>

    </div>

  </div>

</body>
</html>
